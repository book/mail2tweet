I'm subscribed to a mailing-list were people send interesting articles,
usually as a link followed by the full text (for archival, as URL tend
to become obsolete over time).

The link are interesting enough that they could be shared with more
people. Enters Twitter. I want to tweet a summary of the emails:
simply the subject line and the first URL in the body.

mail2tweet is actually made of two separate tools:
- dump1mail:  dumps on stdout the oldest email matching criteria
- mail2tweet: tweets subject and first link from an email on stdin

The YAML config files hold the credentials, "last email tweeted",
and content-munging information.

    # example use in a crontab
    */5 * * * * while ! dump1mail --config imap.yml | mail2tweet --config twitter.yml ; do true ; done

    # example imap.yml
    imap:
      password: puttytat
      port: 993
      server: imap.example.com
      ssl: 1
      uid: 1
      user: tweety.bird
    mail:
      folder: INBOX.lists.sylvester
      last: 1326892229
      search: []

    # example twitter.yml
    cleanup:
      subject:
        - '\[Sylvester\] *'
        - '^(?:(?i:Fwd|Re): *)*'
      body:
        - 'https?://(?:\S+\.)?example.(?:biz|com|net)'
        - '#!/'
    twitter:
      access_token: 97fo59774-Gy9e4fl2p5PjRHnbdheDrcJJN2DVlAqTSQTX1zgS
      access_token_secret: ENlqvrDcjdSQI4xm2TbTrg9mKysQbe002aurvg37kj
      consumer_key: xvRaJ0bNmlD6Tnz5bfSJR
      consumer_secret: cOZpoTxk7sP3H2VZm4mr7iRrdWfItIIuBv5y03amu
      tags:
        - hector
        - granny
        - sylvester

